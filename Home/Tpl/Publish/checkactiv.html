<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class='no-js' lang='en'>
<head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>查看报名详情</title>
    <load href="__PUBLIC__/assets/stylesheets/application-a07755f5.css"/>

    <script>
        window.onload = function()
        {
            checkactivDataPage_getCaseContent();
        }

        //修改某同学的报名状态
        function editHire(applicaitonId, state){ 
            window.location.href="__APP__/Publish/confirmHire?applicationId="+applicaitonId+"&state="+state;
        }

        //修改某同学的活动完成情况
        function editDone(applicaitonId, performance){ 
            window.location.href="__APP__/Publish/confirmDone?applicationId="+applicaitonId+"&performance="+performance;
        }
    </script>
</head>
<body class='main page'>
<!--<script src="__PUBLIC__/assets/javascripts/login.js" type="text/javascript"></script>-->
<div>
    <div id='content'>
        <div class='panel panel-default grid' id="caseInfo" style="border:0px;">
            <table style="border-collapse:separate; border-spacing:10px">
                <tr>
                    <td>活动标题：</td>
                    <td>{$activ.title}</td>
                </tr>
                <br>
                <tr>
                    <td>报名总人数：</td>
                    <td>{$apply_count}</td>
                </tr>
                <tr>
                    <td>已录用：</td>
                    <td>{$hire_count}</td>
                </tr>
                <tr>
                    <td>招募人数：</td>
                    <td>{$activ.recruitment_count}</td>
                </tr>
            </table>

            <table class="table">
                <thead>
                <tr>
                    <th>姓名</th>
                    <th>联系电话</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody id='checkactivtable'>
                    <foreach name="results" item="val">
                        <tr>
                            <th>{$val.name}</th>
                            <th>{$val.phone_number}</th>
                            <th>
                                <if condition="$flag eq 0">
                                    <if condition="$val.application_state eq 0">
                                        <button type="button" onclick="editHire({$val.application_id},1)">录用</button>
                                        <button type="button" onclick="editHire({$val.application_id},2)">不录用</button>
                                    <elseif condition="$val.application_state eq 1"/>
                                        <label>（已录用）</label>
                                    <else/>
                                        <label>（未录用）</label>
                                    </if>
                                <elseif condition="$flag eq 1"/>
                                    <label>--</label>
                                <else/>
                                    <if condition="$val.performance eq 0">
                                        <button type="button" onclick="editDone({$val.application_id},1)">完成</button>
                                        <button type="button" onclick="editDone({$val.application_id},1)">未完成</button>
                                    <elseif condition="$val.performance eq 1"/>
                                        <label>（已完成）</label>
                                    <else/>
                                        <label>（未完成）</label>
                                    </if>
                                </if>
                            </th>
                        </tr>
                    </foreach>
                </tbody>
            </table>



            <a href="{:U('Publish/getAllPublish')}">返回</a>

        </div>

    </div>
</div>
</div>

</body>
</html>
